<div class="article text-xs-center">

  <!--
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs float-xs-left">
      <li class="nav-item">
        <a class="nav-link active" href="#">News</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Related</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Share</a>
      </li>
    </ul>
  </div>
-->

  <div class="card-block">

    <div style="display: flex;flex-direction: row;     margin-bottom: 1.5rem;" *ngIf="isDigest">
      <div style="flex: 3;">
        <!--<img src="http://www.tio.ch/favicon.ico" style="max-height: 28px; margin-right:5px; float:left;" />-->
        <h6 style="color:black; margin:0px;">{{article.publisher.name}}</h6>
        <h6 style="color:#666; margin:0px; margin-top:3px;">{{article.category.name}} · {{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}} · score: {{article.score}}</h6>
      </div>

      <div class="optout-publisher" *ngIf="article.publisher && article.publisher.id && article.category">
        <button md-icon-button [mdMenuTriggerFor]="menu"><i class="fa fa-chevron-circle-down" aria-hidden="true"></i></button>
        <md-menu #menu="mdMenu">
          <!--<button md-menu-item (click)="categoryDialog(article.category)"><span><i class="fa fa-cog" aria-hidden="true"></i> Manage Category</span></button>-->
          <button md-menu-item (click)="publisherDialog(article.publisher,article.category)"><span><i class="fa fa-minus-circle" aria-hidden="true"></i>Remove Publisher</span></button>
        </md-menu>
      </div>
    </div>
    <a [attr.href]="article.url" target="_blank" *ngIf="!cordovaService.onCordova">
      <div class="content">
        <div class="img" [ngStyle]="{'background-image': 'url(' + article.imgUrl + ')'}" border="0" *ngIf="article.imgUrl!=null"></div>
        <h4>{{article.title}}</h4>
        <span *ngIf="!isDigest">{{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}} | {{article.publisher.name}}</span>
        <p [innerHTML]="article.snippet | escapeHtml" class="snippet"></p>
      </div>
    </a>
    <div (click)="openLinkInBrowser()" *ngIf="cordovaService.onCordova">
      <div class="content">
        <div class="img" [ngStyle]="{'background-image': 'url(' + article.imgUrl + ')'}" border="0" *ngIf="article.imgUrl!=null"></div>
        <h4>{{article.title}}</h4>
        <span *ngIf="!isDigest">{{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}} | {{article.publisher.name}}</span>
        <p [innerHTML]="article.snippet | escapeHtml" class="snippet"></p>
      </div>
    </div>
  </div>


</div>
