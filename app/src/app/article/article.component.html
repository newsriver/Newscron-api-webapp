<div class="article text-xs-center">

  <!--
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs float-xs-left">
      <li class="nav-item">
        <a class="nav-link active" href="#">News</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Related</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Share</a>
      </li>
    </ul>
  </div>
-->

  <div class="card-block">
    <div class="digest" *ngIf="isDigest">
      <div class="publisher-vote">
        <button mat-button (click)="publisherDialog(article.publisher,article.category)">
          <div class="publisher-vote-button">
            <i class="fa fa-chevron-up publisher-vote-button-arrow" aria-hidden="true"></i>
            <span class="publisher-vote-text">+1002</span>
            <i class="fa fa-chevron-down publisher-vote-button-arrow" aria-hidden="true"></i>
          </div>
        </button>
      </div>
      <div style="flex: 3;">
        <!--<img src="http://www.tio.ch/favicon.ico" style="max-height: 28px; margin-right:5px; float:left;" />-->
        <h6 style="color:black; font-weight: 400;" class="publisher-name">
          {{article.publisher.name}}
        </h6>
        <h6 class="info">{{article.category.name}} · {{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}} <!--<span *ngIf="article.score">· score: {{article.score}}</span>--></h6>
      </div>

      <div class="optout-publisher" *ngIf="article.publisher && article.publisher.id && article.category">
        <button mat-icon-button [matMenuTriggerFor]="menu"><i class="fa fa-ellipsis-v" aria-hidden="true"></i></button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="publisherDialog(article.publisher,article.category)"><span><i class="fa fa-minus-circle" aria-hidden="true"></i>Remove Publisher</span></button>
        </mat-menu>
      </div>
    </div>
    <a [attr.href]="article.url" (click)="trackEvent()" target="_blank" *ngIf="!cordovaService.onCordova">
      <div class="content">
        <div class="img" [ngStyle]="{'background-image': 'url(' + article.imgUrl + ')'}" border="0" *ngIf="article.imgUrl!=null"></div>
        <h4>{{article.title}}</h4>
        <p [innerHTML]="article.snippet | escapeHtml" class="snippet"></p>
        <h6 class="info-mobile">{{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}}</h6>
      </div>
    </a>
    <div (click)="openLinkInBrowser()" *ngIf="cordovaService.onCordova">
      <div class="content">
        <div class="img" [ngStyle]="{'background-image': 'url(' + article.imgUrl + ')'}" border="0" *ngIf="article.imgUrl!=null"></div>
        <h4>{{article.title}}</h4>
        <p [innerHTML]="article.snippet | escapeHtml" class="snippet"></p>
        <h6 class="info-mobile">{{article.publicationDate | date: 'dd/MM/yyyy HH:mm'}}</h6>
      </div>
    </div>
  </div>


</div>
